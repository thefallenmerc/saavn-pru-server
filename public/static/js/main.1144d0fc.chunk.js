(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){e.exports=a(53)},26:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=(a(26),a(20)),s=a(3),i=a(18),u=a.n(i),m=a(19),g=a.n(m),d={search:function(e){return"http://localhost:3100/api/search?query="+e}};function f(e){var t=e.song;return t?r.a.createElement("audio",{className:"hover:outline-none focus:outline-none",autoPlay:!0,src:t.media_url,controls:!0}):r.a.createElement("span",null,"Please choose a song!")}function h(e){var t=e.suggestion,a=e.playSong;return r.a.createElement("div",{className:"px-2 py-2 shadow rounded my-2 mx-1 flex cursor-pointer hover:shadow-lg",title:"Play "+t.song,onClick:function(){a(t)}},r.a.createElement("img",{src:t.image,className:"rounded-full w-12 h-12 border"}),r.a.createElement("div",{className:"flex-grow text-gray-800 text-xs truncate"},r.a.createElement("div",null,"Song: ",t.song),r.a.createElement("div",null,"Album: ",t.album),r.a.createElement("div",null,"Singers: ",t.singers)))}var p=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),m=i[0],p=i[1],v=Object(n.useState)([]),b=Object(s.a)(v,2),y=b[0],E=b[1],w=Object(n.useState)([]),S=Object(s.a)(w,2),O=S[0],j=S[1],x=function(e){if(-1===O.findIndex((function(t){return t.id===e.id}))){var t=[e].concat(Object(l.a)(O));j(t),localStorage.setItem("recent-songs",JSON.stringify(t))}c(e)};Object(n.useEffect)((function(){var e=localStorage.getItem("recent-songs");if(e)try{var t=JSON.parse(e);Array.isArray(t)&&j(t)}catch(a){}}),[]);var N=Object(n.useCallback)(u()((function(e){g.a.get(d.search(e)).then((function(e){E(e.data)}))}),1e3),[]);return r.a.createElement("div",{className:"flex justify-between"},r.a.createElement("div",{className:"p-2 w-64 h-screen bg-gray-200"},r.a.createElement("input",{value:m,className:"border rounded py-1 px-2 block w-full",placeholder:"Search...",onChange:function(e){var t=e.target.value;p(t),t.trim()?N(t):N.cancel()}}),y.map((function(e){return r.a.createElement(h,{suggestion:e,playSong:x,key:e.id})}))),r.a.createElement(f,{song:a}),r.a.createElement("div",{className:"p-2 w-64 h-screen bg-gray-200"},r.a.createElement("div",{className:"py-1 px-2 block w-full uppercase font-bold"},"Recent Plays"),O.map((function(e){return r.a.createElement(h,{suggestion:e,playSong:x,key:e.id})}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.1144d0fc.chunk.js.map